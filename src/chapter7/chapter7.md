## 레코드 캡슐화하기

- 데이터 레코드(js에서 리터럴 객체형태)는 값을 의미있는 단위로 전달할 수 있게 해주지만 부족한 경우가 있음.
- 이 때, 클래스를 사용하면 이 부족한 점을 채울 수 있음.
  - 외부에서 데이터 접근을 하지 못하도록 만들 수 있음.
  - 무엇이 저장된 값인지, 계산된 값인지 알 필요 없음.
    - 계산된 값이 뭔지 알아가면서 계속 바꿔줄 필요 없음.
  - 네이밍도 바꾸기 편함. (필드 이름을 바꿔도 메서드는 그대로)
- 불변 객체를 사용하면 저장된 값, 계산된 값 문제는 해결 가능
  - 기존 필드 변경 없이 새로 구해서 객체를 새로 만들면 됨.
- 중첩된 레코드인 경우 캡슐화를 재귀적으로 적용
  - 1depth 캡슐화, 2depth 캡슐화 ...

## 컬렉션 캡슐화하기

- 원본 컬렉션에 대한 직접적인 변경을 못하도록 함
  - 절대 컬렉션 원본을 반환하지 않는 방법이 있을 수 있음
    - 단, 많이 사용되는 `map` 등을 사용한 컬렉션 파이프라인 패턴을 사용하기 힘듬.
  - 또는 프록시 사용
    - get은 가능하게, set은 불가능하게
  - 아니면 읽기 전용으로 제공
    - 원본 컬렉션의 복사본 제공하기.
    - 매우 큰 컬렉션이 아니면 성능 문제가 발생할 일은 크게 없음.
      - 일단 측정을 하고, 문제가 되면 수정
  - 이 중 하나만 제공하여 코드베이스에 일관성을 제공하는게 중요함.
